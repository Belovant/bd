# Домашнее задание к занятию 1. «Типы и структура СУБД» Белов Антон

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/virt-11/additional).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определённых данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- электронные чеки в json-виде - документо-ориентированные БД, в которых можно использовать json как основной способ хранения.
- склады и автомобильные дороги для логистической компании - реляционные БД, т.к. они позволяют хранить большие объемы структурированных данных.
- генеалогические деревья - иерархические БД. Они позволяют организовывать данные в виде деревьев, где уровни - это родственные связи между людьми.
- кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - БД типа ключ-значение, основные достоинства которых - простота и скорость.
- отношения клиент-покупка для интернет-магазина - реляционные БД, аналогично задаче хранения данных складов и автомобильных дорог для логистической компании.

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

## Задача 2

Вы создали распределённое высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт — это отдельная реализация вашей системы и для каждого пункта нужно привести классификацию):

Согласованность (Consistency)

Доступность (Availability)

Устойчивость к разделению (Partition tolerance).

- данные записываются на все узлы с задержкой до часа (асинхронная запись);

По CAP-теореме: AP

Система Доступна (A) и Устойчива к разделению (P), однако данные не будут Согласованными(C), поскольку существует большая задержка на запись и запросы к разным узлам могут вернуть разные данные.

По PACELC-теореме: PA/EL

- при сетевых сбоях система может разделиться на 2 раздельных кластера;

По CAP-теореме: AP

Система останется Доступной (A), также можно сказать что она Устойчива к разделению (P), но само условие говорит о том, что данные не будут Согласованными (C), т.к. в разных узлах кластера они не будут одинаковыми.

По PACELC-теореме: PA/EС

- система может не прислать корректный ответ или сбросить соединение.

По CAP-теореме: CP

Исходя из условия задачи делаю вывод, что система точно не удовлетворяет требованиям Доступности (А), однако, может быть Устойчивой к разделению (P) и данные могут быть Согласованными (C). 

По PACELC-теореме: PC/EC

Согласно PACELC-теореме как бы вы классифицировали эти реализации?

## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

В рамках одной БД не могут, т.к. подход BASE ориентирован на доступность данных, а ACID наоборот на надежность и целостность данных, согласно BASE данные могут быть несогласованны, а в ACID это недопустимо.

Если в системе несколько БД, то к ним вполне могут применяться как BASE так и ACID, но не одновременно к одной и той же БД.

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни,
- реакция на истечение таймаута.

Вы слышали о key-value-хранилище, которое имеет механизм Pub/Sub. 
Что это за система? Какие минусы выбора этой системы?

Эта система - Redis - хранилище данных типа «ключ‑значение» располагающееся в оперативной памяти, имеющее механизм Pub/Sub (Издатель/Подписчик)

Минусы:

Необходимо большое количество оперативной памяти, т.к. все данные должны располагаться в ней

Не поддерживаются SQL-запросы, только команды

Потенциальные проблемы безопасности - доступ предоставляется на уровне всего экземпляра

Отсутствие масштабируемости отдельного экземпляря Redis, он работает только на одном ядре процессора в однопоточном режиме

---
